<!-- Add to CSS -->
<style>
    .progress-bar {
        width: 200px;
        height: 20px;
        background: #333;
        margin: 5px 0;
    }
    .progress-fill {
        height: 100%;
        background: #0f0;
        transition: width 0.3s;
    }
    .particles {
        position: absolute;
        pointer-events: none;
    }
</style>

<!-- Add to game div -->
<div class="unlockable">
    <h3>ðŸ¦¾ Automation Upgrades</h3>
    <div>
        <button onclick="buyBot('shillBot')" data-cost="50000">
            Shill Bots (Auto-Pump Tweets) - $50k 
            <span id="shillBotCount">0</span>
        </button>
        <div class="progress-bar">
            <div class="progress-fill" id="shillBotProgress"></div>
        </div>
    </div>

    <div>
        <button onclick="buyBot('rugBot')" data-cost="200000">
            Rug Pull Bots (Auto-Exit Scam) - $200k 
            <span id="rugBotCount">0</span>
        </button>
        <div class="progress-bar">
            <div class="progress-fill" id="rugBotProgress"></div>
        </div>
    </div>

    <button onclick="prestige()" id="prestigeBtn" style="display:none;">
        ðŸ’£ Execute Rug Pull (Reset for 2x Multiplier!)
    </button>
</div>

<script>
// Add to player object
player.bots = {
    shillBot: { count: 0, progress: 0 },
    rugBot: { count: 0, progress: 0 }
};
player.multiplier = 1;
player.totalEarnings = 0;
player.milestones = {
    1e6: false,
    1e7: false,
    1e9: false
};

// Add particle effect
function createParticles(x, y) {
    const particles = document.createElement('div');
    particles.className = 'particles';
    for(let i = 0; i < 5; i++) {
        const p = document.createElement('div');
        p.style = `position:absolute;width:2px;height:2px;background:#0f0;
                   left:${x}px;top:${y}px;transform:translate(
                       ${Math.random()*20-10}px,
                       ${Math.random()*20-10}px);`;
        particles.appendChild(p);
    }
    document.body.appendChild(particles);
    setTimeout(() => particles.remove(), 1000);
}

// Add to updateDisplay()
document.getElementById('shillBotCount').textContent = player.bots.shillBot.count;
document.getElementById('rugBotCount').textContent = player.bots.rugBot.count;
document.getElementById('shillBotProgress').style.width = 
    `${player.bots.shillBot.progress}%`;
document.getElementById('rugBotProgress').style.width = 
    `${player.bots.rugBot.progress}%`;

// Auto-bot actions
setInterval(() => {
    if(player.bots.shillBot.count > 0) {
        player.bots.shillBot.progress += 2;
        if(player.bots.shillBot.progress >= 100) {
            manipulatePrices();
            createParticles(100, 100);
            player.bots.shillBot.progress = 0;
            log("Shill bots pumped the market! ðŸš€", '#0f0');
        }
    }
    
    if(player.bots.rugBot.count > 0) {
        player.bots.rugBot.progress += 1;
        if(player.bots.rugBot.progress >= 100) {
            player.cash += player.coins.RugPullToken.price * 100 * player.multiplier;
            player.coins.RugPullToken.price *= 0.1;
            createParticles(300, 100);
            player.bots.rugBot.progress = 0;
            log("Rug bots dumped bags! ðŸ’°", '#f00');
        }
    }
}, 100);

function buyBot(type) {
    const cost = parseInt(document.querySelector(`button[onclick="buyBot('${type}')"]`)
        .dataset.cost) * player.multiplier;
    
    if(player.cash >= cost) {
        player.cash -= cost;
        player.bots[type].count++;
        updateDisplay();
    }
}

// Prestige system
function prestige() {
    if(confirm("Wipe everything for permanent 2x multiplier?")) {
        player = {
            cash: 10000,
            debt: 0,
            day: 1,
            multiplier: player.multiplier * 2,
            coins: {
                'DogeElonMars': { price: 0.5, qty: 0 },
                'ShibaKaren': { price: 0.3, qty: 0 },
                'ScamCoin': { price: 10, qty: 0 },
                'RugPullToken': { price: 100, qty: 0 }
            },
            bots: { shillBot: { count: 0 }, rugBot: { count: 0 } }
        };
        document.getElementById('prestigeBtn').style.display = 'none';
        updateDisplay();
    }
}

// Milestone unlocks
function checkMilestones() {
    player.totalEarnings += player.cash;
    
    if(player.totalEarnings >= 1e6 && !player.milestones[1e6]) {
        player.coins["MoonLamboCoin"] = { price: 1000, qty: 0 };
        log("Unlocked MoonLamboCoin! ðŸš—", '#ff0');
        player.milestones[1e6] = true;
    }
    
    if(player.totalEarnings >= 1e7) {
        document.getElementById('prestigeBtn').style.display = 'block';
    }
}

// Add to nextDay() after price changes
checkMilestones();
</script>
